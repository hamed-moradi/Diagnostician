@using System.Reflection
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Diagnostician</title>
    @* Bootstrap *@
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    @* Axios *@
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        .table-hover tbody tr {
            cursor: pointer;
        }
        .json-viewer {
            background-color: #2b3035;
            color: #cdd3da;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
        }
        .section-card {
            margin-bottom: 2rem;
            opacity: 0.5;
            transition: opacity 0.3s ease-in-out;
        }
        .section-card.active {
            opacity: 1;
        }
        .action-buttons .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body data-bs-theme="dark">
    <div class="container mt-4">
        @{
            var appVersion = $"v{Assembly.GetExecutingAssembly().GetName().Version}";
        }
        <header class="pb-3 mb-4 border-bottom">
            <div class="h1 text-center"><b>Diagnostician @appVersion</b></div>
        </header>

    <main>
      <!-- Test Section -->
      <div id="test-section" class="card section-card active">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h2 class="h4 mb-0"><i class="bi bi-code-slash"></i> Tests </h2>
          <button class="btn btn-success btn-sm" data-action="create" data-entity="test">
            <i class="bi bi-plus-circle"></i> Create New
          </button>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover table-striped">
              <thead>
                <tr>
                  <th>Title</th>
                  <th>Expectations</th>
                  <th class="text-center">Actions</th>
                </tr>
              </thead>
              <tbody id="test-table-body"></tbody>
            </table>
          </div>
          <nav aria-label="Test pagination">
            <ul id="test-pagination" class="pagination pagination-sm justify-content-center"></ul>
          </nav>
        </div>
      </div>

      <!-- Scenario Section -->
      <div id="scenario-section" class="card section-card active">
          <div class="card-header d-flex justify-content-between align-items-center">
              <h2 class="h4 mb-0"><i class="bi bi-diagram-3"></i> Scenarios</h2>
              <button class="btn btn-success btn-sm" data-action="create" data-entity="scenario">
                  <i class="bi bi-plus-circle"></i> Create New
              </button>
          </div>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-hover table-striped">
                      <thead>
                          <tr>
                              <th>Category</th>
                              <th>Title</th>
                              <th>Description</th>
                              <th class="text-center">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="scenario-table-body"></tbody>
                  </table>
              </div>
              <nav aria-label="Scenario pagination">
                  <ul id="scenario-pagination" class="pagination pagination-sm justify-content-center"></ul>
              </nav>
          </div>
      </div>

      <!-- Request Section -->
      <div id="request-section" class="card section-card">
          <div class="card-header d-flex justify-content-between align-items-center">
              <h2 class="h4 mb-0"><i class="bi bi-send"></i> Requests for Scenario: <span id="selected-scenario-title">None</span></h2>
              <button class="btn btn-success btn-sm" data-action="create" data-entity="request" disabled>
                  <i class="bi bi-plus-circle"></i> Create New
              </button>
          </div>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-hover table-striped">
                      <thead>
                          <tr>
                              <th>Method</th>
                              <th>Target</th>
                              <th>Header</th>
                              <th>Payload</th>
                              <th class="text-center">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="request-table-body"></tbody>
                  </table>
              </div>
              <nav aria-label="Request pagination">
                  <ul id="request-pagination" class="pagination pagination-sm justify-content-center"></ul>
              </nav>
          </div>
      </div>

      <!-- Expectation Section -->
      <div id="expectation-section" class="card section-card">
          <div class="card-header d-flex justify-content-between align-items-center">
              <h2 class="h4 mb-0"><i class="bi bi-check-square"></i> Expectations for Request: <span id="selected-request-target">None</span></h2>
              <button class="btn btn-success btn-sm" data-action="create" data-entity="expectation" disabled>
                  <i class="bi bi-plus-circle"></i> Create New
              </button>
          </div>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-hover table-striped">
                      <thead>
                          <tr>
                              <th>Criteria</th>
                              <th>Status</th>
                              <th>Response</th>
                              <th class="text-center">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="expectation-table-body"></tbody>
                  </table>
              </div>
              <nav aria-label="Expectation pagination">
                  <ul id="expectation-pagination" class="pagination pagination-sm justify-content-center"></ul>
              </nav>
          </div>
      </div>

      <!-- Run Section -->
      <div id="run-section" class="card section-card">
          <div class="card-header d-flex justify-content-between align-items-center">
              <h2 class="h4 mb-0"><i class="bi bi-play-circle"></i> Runs for Expectation: <span id="selected-expectation-id">None</span></h2>
          </div>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-hover table-striped">
                      <thead>
                          <tr>
                              <th>Received Status</th>
                              <th>Received Response</th>
                              <th class="text-center">Actions</th>
                          </tr>
                      </thead>
                      <tbody id="run-table-body"></tbody>
                  </table>
              </div>
              <nav aria-label="Run pagination">
                  <ul id="run-pagination" class="pagination pagination-sm justify-content-center"></ul>
              </nav>
          </div>
      </div>
    </main>
  </div>

    <!-- Generic Modal for Create/Edit -->
    <div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="formModalLabel">Edit Item</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="entityForm" novalidate>
                        <!-- Form fields will be dynamically inserted here -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveChangesBtn">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container for Notifications -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toast-body"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CONFIGURATION & STATE ---
            const API_BASE_URL = 'http://localhost:4444/api';
            const state = {
                selected: { scenarioId: null, requestId: null, expectationId: null },
                pagination: { scenario: {}, request: {}, expectation: {}, run: {} },
                modal: { entity: null, isEdit: false, itemId: null }
            };

            // --- API SERVICE LAYER ---
            const api = {
                // Generic request handler
                async request(method, url, data = null, params = null) {
                try {
                        const config = { method, url: `${API_BASE_URL}${url}`, params };
                        if (data) config.data = data;
                        const response = await axios(config);
                        return response.data;
                    } catch (error) {
                        console.error('API Error:', error);
                        showToast(`Error: ${error.response?.data?.message || error.message}`, 'danger');
                        throw error;
                    }
                },
                // Test endpoints
                getTests: (title, page, size) => api.request('GET', '/test/all', null, { title, pageIndex: page, pageSize: size, orderBy: 'id', direction: 'asc' }),
                getTest: (id) => api.request('GET', '/test/single', null, { id }),
                insertTest: (data) => api.request('POST', '/test/insert', data),
                updateTest: (data) => api.request('POST', '/test/update', data),
                deleteTest: (id) => api.request('GET', '/test/delete', null, { id }),
                // Scenario endpoints
                getScenarios: (title, page, size) => api.request('GET', '/scenario/all', null, { title, pageIndex: page, pageSize: size, orderBy: 'id', direction: 'asc' }),
                getScenario: (id) => api.request('GET', '/scenario/single', null, { id }),
                insertScenario: (data) => api.request('POST', '/scenario/insert', data),
                updateScenario: (data) => api.request('POST', '/scenario/update', data),
                deleteScenario: (id) => api.request('GET', '/scenario/delete', null, { id }),
                // Request endpoints
                getRequests: (scenarioId, page, size) => api.request('GET', '/request/all', null, { scenarioId, pageIndex: page, pageSize: size, orderBy: 'id', direction: 'asc' }),
                getRequest: (id) => api.request('GET', '/request/single', null, { id }),
                insertRequest: (data) => api.request('POST', '/request/insert', data),
                updateRequest: (data) => api.request('POST', '/request/update', data),
                deleteRequest: (id) => api.request('GET', '/request/delete', null, { id }),
                // Expectation endpoints
                getExpectations: (requestId, page, size) => api.request('GET', '/expectation/all', null, { requestId, pageIndex: page, pageSize: size, orderBy: 'id', direction: 'asc' }),
                getExpectation: (id) => api.request('GET', '/expectation/single', null, { id }),
                insertExpectation: (data) => api.request('POST', '/expectation/insert', data),
                updateExpectation: (data) => api.request('POST', '/expectation/update', data),
                deleteExpectation: (id) => api.request('GET', '/expectation/delete', null, { id }),
                // Run endpoints
                getRuns: (expectationId, page, size) => api.request('GET', '/run/all', null, { expectationId, pageIndex: page, pageSize: size, orderBy: 'id', direction: 'asc' }),
                getRun: (id) => api.request('GET', '/run/single', null, { id }),
                insertRun: (data) => api.request('POST', '/run/insert', data),
                updateRun: (data) => api.request('POST', '/run/update', data),
                deleteRun: (id) => api.request('GET', '/run/delete', null, { id }),
            };

            // --- HELPER FUNCTIONS ---
            function showToast(message, type = 'success') {
                const toastEl = document.getElementById('liveToast');
                const toastBody = document.getElementById('toast-body');
                toastBody.textContent = message;
                toastEl.className = `toast align-items-center text-white bg-${type} border-0`;
                const toast = new bootstrap.Toast(toastEl);
                toast.show();
            }

            function formatDate(dateString) {
                return new Date(dateString).toLocaleString();
            }
            
            function formatJson(json) {
                try {
                    return JSON.stringify(JSON.parse(json), null, 2);
                } catch (e) {
                    return JSON.stringify(json, null, 2);
                }
            }

            // --- RENDERING FUNCTIONS ---
            function renderTable(entity, data) {
                const tbody = document.getElementById(`${entity}-table-body`);
                tbody.innerHTML = '';
                if (!data || data.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="100%" class="text-center">No data found.</td></tr>`;
                    return;
                }

                data.forEach(item => {
                    const row = document.createElement('tr');
                    row.dataset.id = item.Id;
                    row.innerHTML = getTableRowHtml(entity, item);
                    tbody.appendChild(row);
                });
            }

            function getTableRowHtml(entity, item) {
              const commonActions = `
                    <div class="action-buttons">
                        <button class="btn btn-warning btn-sm edit-btn" data-id="${item.Id}" data-entity="${entity}"><i class="bi bi-pencil"></i></button>
                        <button class="btn btn-danger btn-sm delete-btn" data-id="${item.Id}" data-entity="${entity}"><i class="bi bi-trash"></i></button>
                </div>`;
              switch (entity) {
                  case 'test':
                      return `
                          <td>${item.Title}</td>
                          <td>${item.Expectations}</td>
                          <td class="text-center">
                            <div class="action-buttons">
                              <button class="btn btn-warning btn-sm edit-btn" data-id="${item.Id}" data-entity="${entity}"><i class="bi bi-pencil"></i></button>
                              <button class="btn btn-danger btn-sm delete-btn" data-id="${item.Id}" data-entity="${entity}"><i class="bi bi-trash"></i></button>
                              <button class="btn btn-primary btn-sm edit-btn" data-id="${item.Id}" data-entity="${entity}"><i class="bi bi-collection-play"></i></button>
                            </div>
                          </td>`;
                    case 'scenario':
                        return `
                            <td>${item.Category}</td>
                            <td>${item.Title}</td>
                            <td>${item.Description || '-'}</td>
                            <td class="text-center">${commonActions}</td>`;
                    case 'request':
                        return `
                            <td><span class="badge bg-primary">${item.Method}</span></td>
                            <td>${item.Target}</td>
                            <td><pre class="json-viewer">${formatJson(item.Header)}</pre></td>
                            <td><pre class="json-viewer">${formatJson(item.Payload)}</pre></td>
                            <td class="text-center">${commonActions}</td>`;
                    case 'expectation':
                        return `
                            <td>${item.Criteria}</td>
                            <td><span class="badge bg-info">${item.Status}</span></td>
                            <td><pre class="json-viewer">${formatJson(item.Response)}</pre></td>
                            <td class="text-center">${commonActions}</td>`;
                    case 'run':
                        return `
                            <td><span class="badge bg-secondary">${item.ReceivedStatus}</span></td>
                            <td><pre class="json-viewer">${formatJson(item.ReceivedResponse)}</pre></td>
                            <td class="text-center">${commonActions}</td>`;
                    default: return '';
                }
            }

            function renderPagination(entity, currentPage, totalPages) {
                const paginationEl = document.getElementById(`${entity}-pagination`);
                paginationEl.innerHTML = '';
                if (totalPages <= 1) return;

                for (let i = 1; i <= totalPages; i++) {
                    const li = document.createElement('li');
                    li.className = `page-item ${i === currentPage ? 'active' : ''}`;
                    li.innerHTML = `<a class="page-link" href="#" data-page="${i}" data-entity="${entity}">${i}</a>`;
                    paginationEl.appendChild(li);
                }
            }

            // --- DATA FETCHING & STATE MANAGEMENT ---
        async function fetchAndRender(entity, page = 1, size = 10) {;
                let parentId = null;
                if (entity === 'request') parentId = state.selected.scenarioId;
                if (entity === 'expectation') parentId = state.selected.requestId;
                if (entity === 'run') parentId = state.selected.expectationId;
                if (entity !== 'test' && entity !== 'scenario' && !parentId) return;

                try {
                    const result = await api[`get${entity.charAt(0).toUpperCase() + entity.slice(1)}s`](parentId, page, size);
                    renderTable(entity, result.data);
                    const totalPages = Math.ceil(result.totalCount / size);
                    renderPagination(entity, page, totalPages);
                    state.pagination[entity] = { currentPage, totalPages };
                } catch (error) {
                    // Error is already handled in the api.request function
                }
            }

            function selectRow(entity, id, title) {
                document.querySelectorAll(`#${entity}-table-body tr`).forEach(r => r.classList.remove('table-active'));
                document.querySelector(`#${entity}-table-body tr[data-id="${id}"]`)?.classList.add('table-active');
                if (entity === 'test') {
                  state.selected.testId = id;
                  document.getElementById('selected-test-title').textContent = title;
                  activateSection('test');
                  fetchAndRender('test');
                }
                else if (entity === 'scenario') {
                    state.selected.scenarioId = id;
                    state.selected.requestId = null;
                    state.selected.expectationId = null;
                    document.getElementById('selected-scenario-title').textContent = title;
                    document.getElementById('selected-request-target').textContent = 'None';
                    document.getElementById('selected-expectation-id').textContent = 'None';
                    activateSection('request');
                    deactivateSection('expectation');
                    deactivateSection('run');
                    fetchAndRender('request');
                } else if (entity === 'request') {
                    state.selected.requestId = id;
                    state.selected.expectationId = null;
                    document.getElementById('selected-request-target').textContent = title;
                    document.getElementById('selected-expectation-id').textContent = 'None';
                    activateSection('expectation');
                    deactivateSection('run');
                    fetchAndRender('expectation');
                } else if (entity === 'expectation') {
                    state.selected.expectationId = id;
                    document.getElementById('selected-expectation-id').textContent = id;
                    activateSection('run');
                    fetchAndRender('run');
                }
            }
            
            function activateSection(name) {
                const section = document.getElementById(`${name}-section`);
                section.classList.add('active');
                if(section.querySelector('.btn-success'))
                  section.querySelector('.btn-success').disabled = false;
            }
            function deactivateSection(name) {
                const section = document.getElementById(`${name}-section`);
                section.classList.remove('active');
                if(section.querySelector('.btn-success'))
                  section.querySelector('.btn-success').disabled = true;
                document.getElementById(`${name}-table-body`).innerHTML = '';
                document.getElementById(`${name}-pagination`).innerHTML = '';
            }

            // --- MODAL & FORM HANDLING ---
            function showModal(entity, isEdit = false, itemId = null) {
                state.modal = { entity, isEdit, itemId };
                const modalEl = document.getElementById('formModal');
                const modalTitle = document.getElementById('formModalLabel');
                const form = document.getElementById('entityForm');

                modalTitle.textContent = `${isEdit ? 'Edit' : 'Create New'} ${entity.charAt(0).toUpperCase() + entity.slice(1)}`;
                form.innerHTML = ''; // Clear previous form

                if (isEdit && itemId) {
                    api[`get${entity.charAt(0).toUpperCase() + entity.slice(1)}`](itemId).then(itemData => {
                        // API returns an array for single items
                        populateForm(form, entity, itemData[0]);
                    });
                } else {
                    populateForm(form, entity, {});
                }

                const modal = new bootstrap.Modal(modalEl);
                modal.show();
            }

            function populateForm(form, entity, data) {
                const fields = getFormFields(entity);
                fields.forEach(field => {
                    const value = data[field.name] ?? '';
                    const group = document.createElement('div');
                    group.className = 'mb-3';

                    if (field.type === 'textarea') {
                        group.innerHTML = `<label for="${field.name}" class="form-label">${field.label}</label><textarea class="form-control" id="${field.name}" name="${field.name}" rows="5">${value}</textarea>`;
                    } else {
                        group.innerHTML = `<label for="${field.name}" class="form-label">${field.label}</label><input type="${field.type}" class="form-control" id="${field.name}" name="${field.name}" value="${value}">`;
                    }
                    form.appendChild(group);
                });
            }

            function getFormFields(entity) {
              const fieldDefinitions = {
                test: [
                    { name: 'Title', label: 'Title', type: 'text' },
                    { name: 'ExpectationIds', label: 'Expectations (JSON)', type: 'text' }
                ],
                scenario: [
                    { name: 'Category', label: 'Category', type: 'text' },
                    { name: 'Title', label: 'Title', type: 'text' },
                    { name: 'Description', label: 'Description', type: 'text' },
                ],
                request: [
                    { name: 'ScenarioId', label: 'Scenario ID', type: 'number' },
                    { name: 'Method', label: 'Method', type: 'text' },
                    { name: 'Target', label: 'Target', type: 'text' },
                    { name: 'Header', label: 'Header (JSON)', type: 'textarea' },
                    { name: 'Payload', label: 'Payload (JSON)', type: 'textarea' },
                ],
                expectation: [
                    { name: 'Criteria', label: 'Criteria', type: 'number' },
                    { name: 'RequestId', label: 'Request ID', type: 'number' },
                    { name: 'Status', label: 'Status', type: 'number' },
                    { name: 'Response', label: 'Response (JSON)', type: 'textarea' },
                ],
                run: [
                    { name: 'ExpectationId', label: 'Expectation ID', type: 'number' },
                    { name: 'ReceivedStatus', label: 'Received Status', type: 'number' },
                    { name: 'ReceivedResponse', label: 'Received Response (JSON)', type: 'textarea' },
                ]
              };
              return fieldDefinitions[entity] || [];
            }

            async function handleFormSubmit() {
                const form = document.getElementById('entityForm');
                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());

                // Auto-fill parent IDs if creating new
                if (!state.modal.isEdit) {
                    if (state.modal.entity === 'request') data.ScenarioId = state.selected.scenarioId;
                    if (state.modal.entity === 'expectation') data.RequestId = state.selected.requestId;
                    if (state.modal.entity === 'run') data.ExpectationId = state.selected.expectationId;
                }
                
                // Hide ID field for creation
                if (!state.modal.isEdit) delete data.Id;

                // Parse JSON fields
                ['Header', 'Payload', 'Response', 'ReceivedResponse'].forEach(key => {
                    if (data[key]) {
                        try { data[key] = JSON.parse(data[key]); }
                        catch (e) { showToast(`Invalid JSON in ${key}`, 'danger'); return; }
                    }
                });

                try {
                    const apiMethod = state.modal.isEdit ? `update${state.modal.entity.charAt(0).toUpperCase() + state.modal.entity.slice(1)}` : `insert${state.modal.entity.charAt(0).toUpperCase() + state.modal.entity.slice(1)}`;
                    await api[apiMethod](data);
                    bootstrap.Modal.getInstance(document.getElementById('formModal')).hide();
                    showToast(`${state.modal.isEdit ? 'Update' : 'Creation'} successful!`);
                    fetchAndRender(state.modal.entity, state.pagination[state.modal.entity].currentPage);
                } catch (error) {
                    // Error is handled in api.request
                }
            }

            async function handleDelete(entity, id) {
                if (!confirm('Are you sure you want to delete this item? This action cannot be undone.')) return;
                try {
                    await api[`delete${entity.charAt(0).toUpperCase() + entity.slice(1)}`](id);
                    showToast('Deletion successful!');
                    fetchAndRender(entity, state.pagination[entity].currentPage);
                } catch (error) {
                    // Error is handled in api.request
                }
            }


            // --- EVENT DELEGATION ---
            document.body.addEventListener('click', async (event) => {
                const target = event.target;
                // Row selection
                if (target.closest('tbody tr[data-id]')) {
                    const row = target.closest('tr');
                    const entity = row.closest('table').closest('.card-body').parentElement.id.replace('-section', '');
                    const id = parseInt(row.dataset.id);
                    const title = row.cells[entity === 'scenario' ? 2 : entity === 'request' ? 2 : 0].textContent.trim();
                    selectRow(entity, id, title);
                }
                // Create button
                if (target.matches('[data-action="create"]')) {
                    const entity = target.dataset.entity;
                    showModal(entity, false);
                }
                // Edit button
                if (target.matches('.edit-btn') || target.closest('.edit-btn')) {
                    const btn = target.matches('.edit-btn') ? target : target.closest('.edit-btn');
                    const entity = btn.dataset.entity;
                    const id = btn.dataset.id;
                    showModal(entity, true, id);
                }
                // Delete button
                if (target.matches('.delete-btn') || target.closest('.delete-btn')) {
                    const btn = target.matches('.delete-btn') ? target : target.closest('.delete-btn');
                    const entity = btn.dataset.entity;
                    const id = btn.dataset.id;
                    handleDelete(entity, id);
                }
                // Pagination link
                if (target.matches('.page-link')) {
                    event.preventDefault();
                    const entity = target.dataset.entity;
                    const page = parseInt(target.dataset.page);
                    fetchAndRender(entity, page, size);
                }
            });

            document.getElementById('saveChangesBtn').addEventListener('click', handleFormSubmit);

            // --- INITIALIZATION ---
            fetchAndRender('test');
            fetchAndRender('scenario');
        });
    </script>
</body>
</html>